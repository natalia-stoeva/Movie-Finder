{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/natal/Desktop/movieFinderNEW/public/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/natal/Desktop/movieFinderNEW/public/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/natal/Desktop/movieFinderNEW/public/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import{useParams}from\"react-router\";import{getTvDetails}from\"../../controllers/api\";import ItemsCarousel from\"react-items-carousel\";import{Heading}from\"../../components/heading/Heading\";import{RatingsInfo}from\"../../components/ratingsInfo/RatingsInfo\";import{MediaContainer}from\"../../containers/media/MediaContainer\";import{Genre}from\"../../components/genres/Genres\";import{SectionTitle}from\"../../components/section/SectionTitle\";import{Text}from\"../../components/text/Text\";import{PeopleContainer}from\"../../containers/cast/PeopleContainer\";import{MovieCard}from\"../../components/cards/MovieCard\";import{FontAwesomeIcon}from\"@fortawesome/react-fontawesome\";import{faChevronLeft,faChevronRight}from\"@fortawesome/free-solid-svg-icons\";import{ChevronLink}from\"../../components/link/ChevronLink\";import{TextAndInfo}from\"../../components/text/TextAndInfo\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var TvPage=function TvPage(){var _useParams=useParams(),id=_useParams.id;var _useState=useState(0),_useState2=_slicedToArray(_useState,2),activeItemIndex=_useState2[0],setActiveItemIndex=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),tv=_useState4[0],setTv=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),cast=_useState6[0],setCast=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),videos=_useState8[0],setVideos=_useState8[1];var _useState9=useState(null),_useState10=_slicedToArray(_useState9,2),similar=_useState10[0],setSimilar=_useState10[1];var _useState11=useState(null),_useState12=_slicedToArray(_useState11,2),genres=_useState12[0],setGenres=_useState12[1];var _useState13=useState(null),_useState14=_slicedToArray(_useState13,2),creators=_useState14[0],setCreators=_useState14[1];useEffect(function(){function getTVDetails(){return _getTVDetails.apply(this,arguments);}function _getTVDetails(){_getTVDetails=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var tv,extractGenres;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return getTvDetails(id);case 2:tv=_context.sent;extractGenres=Array.from(tv.genres,function(genre){return genre.name;});setGenres(extractGenres);setTv(tv);setCast(tv.credits.cast);setSimilar(tv.similar.results);setVideos(tv.videos.results);setCreators(tv.created_by);case 10:case\"end\":return _context.stop();}},_callee);}));return _getTVDetails.apply(this,arguments);}getTVDetails();},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[tv?/*#__PURE__*/_jsxs(\"header\",{children:[/*#__PURE__*/_jsx(Heading,{name:tv.name}),/*#__PURE__*/_jsx(RatingsInfo,{runtime:tv.episode_run_time,status:tv.status})]}):\"\",/*#__PURE__*/_jsx(\"section\",{children:videos?/*#__PURE__*/_jsx(MediaContainer,{posterPath:tv.poster_path||tv.backdrop_path,imgSize:\"medium\",alt:tv.name,videoKey:videos[0].key,imgStyles:\"poster-img\"}):\"\"}),genres?/*#__PURE__*/_jsx(\"section\",{children:/*#__PURE__*/_jsx(Genre,{genres:genres})}):\"\",tv?/*#__PURE__*/_jsxs(\"section\",{children:[/*#__PURE__*/_jsx(Heading,{name:tv.tagline}),/*#__PURE__*/_jsx(Text,{text:tv.overview}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col d-flex\",children:[/*#__PURE__*/_jsx(TextAndInfo,{categorie:\"Created By\",value:creators[0].name}),/*#__PURE__*/_jsx(TextAndInfo,{categorie:\"Seasons\",value:tv.number_of_seasons}),/*#__PURE__*/_jsx(TextAndInfo,{categorie:\"Episodes\",value:tv.number_of_episodes})]})})]}):\"\",cast?/*#__PURE__*/_jsxs(\"section\",{children:[/*#__PURE__*/_jsx(SectionTitle,{name:\"Top Cast\"}),/*#__PURE__*/_jsx(PeopleContainer,{cast:cast}),/*#__PURE__*/_jsx(\"div\",{className:\"row d-flex justify-content-end\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-2\",children:/*#__PURE__*/_jsx(ChevronLink,{href:\"#\",text:\"See Full Cast\"})})})]}):\"\",similar?/*#__PURE__*/_jsxs(\"section\",{children:[/*#__PURE__*/_jsx(SectionTitle,{name:\"Similar Shows\"}),/*#__PURE__*/_jsx(ItemsCarousel,{requestToChangeActive:setActiveItemIndex,activeItemIndex:activeItemIndex,numberOfCards:5,gutter:20,leftChevron:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faChevronLeft,className:\"chevron\"}),rightChevron:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faChevronRight,className:\"chevron\"}),outsideChevron:false,chevronWidth:40,children:similar.map(function(show){return/*#__PURE__*/_jsx(MovieCard,{id:show.id,title:show.title,image:show.poster_path||show.backdrop_path,ratings:show.vote_average,popularity:show.popularity,date:show.release_date||show.first_air_date},show.id);})})]}):\"\"]});};","map":{"version":3,"names":["React","useState","useEffect","useParams","getTvDetails","ItemsCarousel","Heading","RatingsInfo","MediaContainer","Genre","SectionTitle","Text","PeopleContainer","MovieCard","FontAwesomeIcon","faChevronLeft","faChevronRight","ChevronLink","TextAndInfo","TvPage","id","activeItemIndex","setActiveItemIndex","tv","setTv","cast","setCast","videos","setVideos","similar","setSimilar","genres","setGenres","creators","setCreators","getTVDetails","extractGenres","Array","from","genre","name","credits","results","created_by","episode_run_time","status","poster_path","backdrop_path","key","tagline","overview","number_of_seasons","number_of_episodes","map","show","title","vote_average","popularity","release_date","first_air_date"],"sources":["C:/Users/natal/Desktop/movieFinderNEW/public/src/pages/tv/TvPage.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useParams } from \"react-router\";\r\nimport { getTvDetails } from \"../../controllers/api\";\r\nimport ItemsCarousel from \"react-items-carousel\";\r\nimport { Heading } from \"../../components/heading/Heading\";\r\nimport { RatingsInfo } from \"../../components/ratingsInfo/RatingsInfo\";\r\nimport { MediaContainer } from \"../../containers/media/MediaContainer\";\r\nimport { Genre } from \"../../components/genres/Genres\";\r\nimport { SectionTitle } from \"../../components/section/SectionTitle\";\r\nimport { Text } from \"../../components/text/Text\";\r\nimport { PeopleContainer } from \"../../containers/cast/PeopleContainer\";\r\nimport { MovieCard } from \"../../components/cards/MovieCard\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport {\r\n  faChevronLeft,\r\n  faChevronRight,\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\n\r\nimport { ChevronLink } from \"../../components/link/ChevronLink\";\r\nimport { TextAndInfo } from \"../../components/text/TextAndInfo\";\r\n\r\nexport const TvPage = () => {\r\n  const { id } = useParams();\r\n  const [activeItemIndex, setActiveItemIndex] = useState(0);\r\n\r\n  const [tv, setTv] = useState(null);\r\n  const [cast, setCast] = useState(null);\r\n  const [videos, setVideos] = useState(null);\r\n  const [similar, setSimilar] = useState(null);\r\n  const [genres, setGenres] = useState(null);\r\n  const [creators, setCreators] = useState(null);\r\n\r\n  useEffect(() => {\r\n    async function getTVDetails() {\r\n      const tv = await getTvDetails(id);\r\n      const extractGenres = Array.from(tv.genres, (genre) => genre.name);\r\n      setGenres(extractGenres);\r\n      setTv(tv);\r\n      setCast(tv.credits.cast);\r\n      setSimilar(tv.similar.results);\r\n      setVideos(tv.videos.results);\r\n      setCreators(tv.created_by);\r\n    }\r\n    getTVDetails();\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      {tv ? (\r\n        <header>\r\n          <Heading name={tv.name} />\r\n          <RatingsInfo runtime={tv.episode_run_time} status={tv.status} />\r\n        </header>\r\n      ) : (\r\n        \"\"\r\n      )}\r\n\r\n      <section>\r\n        {videos ? (\r\n          <MediaContainer\r\n            posterPath={tv.poster_path || tv.backdrop_path}\r\n            imgSize={\"medium\"}\r\n            alt={tv.name}\r\n            videoKey={videos[0].key}\r\n            imgStyles={\"poster-img\"}\r\n          />\r\n        ) : (\r\n          \"\"\r\n        )}\r\n      </section>\r\n\r\n      {genres ? (\r\n        <section>\r\n          <Genre genres={genres} />\r\n        </section>\r\n      ) : (\r\n        \"\"\r\n      )}\r\n\r\n      {tv ? (\r\n        <section>\r\n          <Heading name={tv.tagline} />\r\n          <Text text={tv.overview} />\r\n          <div className=\"row\">\r\n            <div className=\"col d-flex\">\r\n              <TextAndInfo categorie={\"Created By\"} value={creators[0].name} />\r\n              <TextAndInfo categorie={\"Seasons\"} value={tv.number_of_seasons} />\r\n              <TextAndInfo\r\n                categorie={\"Episodes\"}\r\n                value={tv.number_of_episodes}\r\n              />\r\n            </div>\r\n          </div>\r\n        </section>\r\n      ) : (\r\n        \"\"\r\n      )}\r\n\r\n      {/* <h3>Created by: {creators}</h3> */}\r\n\r\n      {cast ? (\r\n        <section>\r\n          <SectionTitle name={\"Top Cast\"} />\r\n          <PeopleContainer cast={cast} />\r\n          <div className=\"row d-flex justify-content-end\">\r\n            <div className=\"col-2\">\r\n              <ChevronLink href={\"#\"} text={\"See Full Cast\"} />\r\n            </div>\r\n          </div>\r\n        </section>\r\n      ) : (\r\n        \"\"\r\n      )}\r\n\r\n      {similar ? (\r\n        <section>\r\n          <SectionTitle name=\"Similar Shows\" />\r\n\r\n          <ItemsCarousel\r\n            requestToChangeActive={setActiveItemIndex}\r\n            activeItemIndex={activeItemIndex}\r\n            numberOfCards={5}\r\n            gutter={20}\r\n            leftChevron={\r\n              <FontAwesomeIcon icon={faChevronLeft} className=\"chevron\" />\r\n            }\r\n            rightChevron={\r\n              <FontAwesomeIcon icon={faChevronRight} className=\"chevron\" />\r\n            }\r\n            outsideChevron={false}\r\n            chevronWidth={40}\r\n          >\r\n            {similar.map((show) => {\r\n              return (\r\n                <MovieCard\r\n                  key={show.id}\r\n                  id={show.id}\r\n                  title={show.title}\r\n                  image={show.poster_path || show.backdrop_path}\r\n                  ratings={show.vote_average}\r\n                  popularity={show.popularity}\r\n                  date={show.release_date || show.first_air_date}\r\n                />\r\n              );\r\n            })}\r\n          </ItemsCarousel>\r\n        </section>\r\n      ) : (\r\n        \"\"\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}